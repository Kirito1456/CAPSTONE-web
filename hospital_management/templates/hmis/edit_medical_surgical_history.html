{%load static%}
<html>
    <title>Edit Medical/Surgical History</title>

<link rel="stylesheet" href="{% static 'css/edit_medical_surgical_history_style.css' %}">

    <body> 
        <div id = "whole-screen">
            <div id = "side-menu">
                <div id = "all-info">
                    <div id = "user-info"> 
                        <div id = "image">
                            <img src="{% static 'hannie.jpg' %}" id = "display-photo">
                        </div>
                        <div id = "information">
                            <div id = "name"> Jeonghan </div>
                            <div id = "role"> General Practitioner</div>
                        </div>
                    </div>
                    <div id = "menu"> 
                        <div id = "a1"><a href="">Dashboard</a></div>
                        <div id = "a2"><a href="">Appointments</a></div>
                        <div id = "a3" style="font-weight: bold;"><a href="{% url 'patient_data_doctor_view' %}">Patients</a></div>
                        <div id = "a4"><a href="{% url 'patient_medication_doctor' %}">Medications</a></div>
                        <div id = "a5"><a href="">Message</a></div>
                        <div id = "a6"><a href="">Profile</a></div>
                        <div id = "a7"><a href="">Settings</a></div>
                    </div>
                </div>
            </div>
            <div id = "other-side">
                <div id = "back">
                    <div id = "back-button">
                        <a href="{% url 'patient_medical_history' %}"> << Back </a>
                    </div>
                </div>
                <div id = "patient-medical-info">
                    <div id = "personal-info">
                        <div id = "head">Patient Medical History</div>
                        <div id = "patient-information">
                            <div id = "first">
                                <div id = "fname">Juanita</div>
                                <div id = "fname-label">First Name</div>
                            </div>
                            <div id = "last">
                                <div id = "lname">Dela Cruz</div>
                                <div id = "lname-label">Last Name</div>
                            </div>
                            <div id = "gender">
                                <div id = "gender-view">Female</div>
                                <div id = "gender-label">Gender</div>
                            </div>
                            <div id = "bday">
                                <div id = "birthday">01/03/2003</div>
                                <div id = "bday-label">Date of Birth</div>
                            </div>
                            <div id = "age">
                                <div id = "age-view">21</div>
                                <div id = "age-label">Age</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id = "medical-history">
                    <div id = "past-medical-surgical-history">
                        <div id = "head">Past Medical/Surgical History</div>
                        <div id = "medical-surgical-history-table">
                            <table id = "medical-or-surgical-history-table">
                                <tr>
                                    <th class = "diagnosis-date">Diagnosis Date</th>
                                    <th class = "illness">Illness</th>
                                    <th class = "treatment">Treatment</th>
                                    <th class = "remark">Remarks</th>
                                    <th class = "edit">Edit</th>
                                </tr>
                                <tr id = "row-1">
                                    <td>
                                        <div id = "date-diagnosis">2014-02-09</div>
                                        <input id="date-input" type="date" style="display: none;">
                                    </td>
                                    <td>
                                        <div id = "illness">Asthma</div>
                                        <input id="illness-input" type="text" style="display: none;">
                                    </td>
                                    <td>
                                        <div id = "treatment">Medication</div>
                                        <input id="treatment-input" type="text" style="display: none;">
                                    </td>
                                    <td>
                                        <div id = "remark">Weekly visit is required iuehoiwe ijwdo wjediowhnsekdj ihwdiown wjdiowklnd ,efef kfdn</div>
                                        <input id="remark-input" type="text" style="display: none;">
                                        
                                    </td>
                                    <td>
                                        <a id = "edit" onclick = "edit()">Edit</a>
                                        <a id = "save" onclick = "save()" style = "display: none;">Save</a>
                                    </td>
                                </tr>
                                <tr id = "row-2">
                                    <td><input type="date" id = "date-diagnosis">
                                        <script>
                                            document.getElementById("date-diagnosis").value = "2014-02-09";
                                        </script>
                                    </td>
                                    <td><input type="text" id="illnesses">
                                        <script type="text/javascript">
                                            document.getElementById("illnesses").value = "Asthma";
                                        </script>
                                    </td>
                                    <td><input type = "text" id = "treatment-plan">
                                        <script type="text/javascript">
                                            document.getElementById("treatment-plan").value = "Medication";
                                        </script>
                                    </td>
                                    <td><textarea id = "medical-surgical-history-remark">Weekly visit is required iuehoiwe ijwdo wjediowhnsekdj ihwdiown wjdiowklnd ,efef kfd</textarea></td>
                                    <td>
                                        <a href = "" id = "edit">Edit</a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div id = "add-medical-surgical-history">
                            <a id = "add-medical-surgical-history-button">Add</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script>
        function edit() {
            var dateElement = document.getElementById("date-diagnosis");
            var dateInput = document.getElementById("date-input");

            var illnessElement = document.getElementById("illness");
            var illnessInput = document.getElementById("illness-input");

            var treatmentElement = document.getElementById("treatment");
            var treatmentInput = document.getElementById("treatment-input");

            var remarkElement = document.getElementById("remark");
            var remarkInput = document.getElementById("remark-input");

            // Populate input fields with current values from div elements
            dateInput.value = dateElement.textContent;
            illnessInput.value = illnessElement.textContent;
            treatmentInput.value = treatmentElement.textContent;
            remarkInput.value = remarkElement.textContent;

            // Hide the divs and show the input fields
            dateElement.style.display = "none";
            dateInput.style.display = "block";

            illnessElement.style.display = "none";
            illnessInput.style.display = "block";

            treatmentElement.style.display = "none";
            treatmentInput.style.display = "block";

            remarkElement.style.display = "none";
            remarkInput.style.display = "block";

            // Show the save button and hide the edit button
            document.getElementById("edit").style.display = "none";
            document.getElementById("save").style.display = "inline";
        }

        function save() {
            var dateElement = document.getElementById("date-diagnosis");
            var dateInput = document.getElementById("date-input");
            
            var illnessElement = document.getElementById("illness");
            var illnessInput = document.getElementById("illness-input");

            var treatmentElement = document.getElementById("treatment");
            var treatmentInput = document.getElementById("treatment-input");

            var remarkElement = document.getElementById("remark");
            var remarkInput = document.getElementById("remark-input");

            // Update the div content with the input field value
            dateElement.textContent = dateInput.value;
            illnessElement.textContent = illnessInput.value;
            treatmentElement.textContent = treatmentInput.value;
            remarkElement.textContent = remarkInput.value;

            // Hide the input fields and show the divs
            dateInput.style.display = "none";
            dateElement.style.display = "block";
            
            illnessInput.style.display = "none";
            illnessElement.style.display = "block";

            treatmentInput.style.display = "none";
            treatmentElement.style.display = "block";

            remarkInput.style.display = "none";
            remarkElement.style.display = "block";

            // Show the edit button and hide the save button
            document.getElementById("edit").style.display = "inline";
            document.getElementById("save").style.display = "none";
        }

    </script>

</html>